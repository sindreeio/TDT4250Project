# TDT4250 Project - Diagram example

## Set up

### Import model

- Locate the dynamic instance of the model with all the data generated by the DataGenerator class in `TDT4250Project/TDT4250Project.polet.model/model/categories.xmi`
  - If you want to update the model, see this [page.](https://github.com/sindreeio/TDT4250Project/blob/master/TDT4250Project.polet.model/README.md)
- Copy the file to `TDT4250Project/TDT4250Project.polet.diagram.example/`
- Open `TDT4250Project/TDT4250Project.polet.diagram.example/representations.aird`
- In the _Models_ tab, select _Add..._.
- In the dialog box select _Browse Workspace..._ and locate the XMI file from previos steps.
- Mark the file and select _OK_.
- The newly added file will show up in the _Models_ tab displaying the content.
  _NOTE: Some recipes have been added to the existing `categories.xmi` file. Generating a new one will not include these_

### Replace exsiting model

If you want to replace an existing XMI file with an updated XMI file do the following steps:

- Open `TDT4250Project/TDT4250Project.polet.diagram.example/representations.aird` and locate the old file under the _Models_ tab.
- Locate the same model file in Eclipse's _Package Explorer_. Right click the file and select _Delete_ from the submenu. Select _OK_ in the dialog box.
- Open `representations.aird` again and make sure the model has disappared from the _Models_ tab. Save the `representations.aird`
- Locate the `representations.aird` file in Eclipse's _Package Explorer_. Right click it and select _Close_ in the submenu to empty the cache containing the old file.
- Reopen `representations.aird` and follow the steps above to import a new model.

## Open diagrams

Opening the diagrams is done be selecting the objects in the XMI file which a diagram representation is wanted for.

### Open ShowAllDiagram

Right click the root object cathegories and go down to New Representation. In the New repsesentation submenu select New ShowAllDiagram and wait for the diagram to be generated.

### Open EditDiagram

Right click the root object cathegories and go down to New Representation. In the New repsesentation submenu select New EditDiagram and wait for the diagram to be generated.

### Open DistributionOfProductionInCountries

Right click the root object cathegories and go down to New Representation. In the New repsesentation submenu select Distribution Of Production In Countries and wait for the diagram to be generated.

### Open MealTypeDetails

Right click the mealtype object you want a representation of and go down to New Representation. In the New repsesentation submenu select Details of [name of the selected MealType] and wait for the diagram to be generated.

### Open productTypeDetails

Right click the ProductType object you want a representation of and go down to New Representation. In the New repsesentation submenu select Best priced [name og the selected ProductType] and wait for the diagram to be generated.

## Use of diagrams

### ShowAllDiagram and EditDiagram

These diagrams is where most of the editing and adding objects is the XMI file is done.

#### The pallette tools

Set meal type for recipe is used to create the containment opposite relationship between a MealType and a Recipe. This is done by selecting the tool in the pallette, then click the MealType and then the recipe to create the relationship

Set sutible meal type for for product creates a new instance of the relation class ProductOfTypeInMealType between a MealType and a product. This is done by selecting the tool in the pallette, cliking the Product and than the MealType.

Create country creates a new instance of country in the XMI and adds country container to the diagram. This is done by selecting the tool in the pallette and then drag it to where you want the country container initialized.

#### Adding objects and editing objects

Editing objects can be done by selecting them and editing the fields in the page tab under the properties tab in eclipse.

Adding a recipe can be done by selecting a MealType and then in the page tab under the properties tab in eclipse, clicking the Create New Recipie. This will create a new Recipe instance whith an opposite containment relationship to the MealType it was created from.

Adding a Product can be done by selecting a ProductType and then in the page tab under the properties tab in eclipse, clicking the Create New Product button. This will create a new Product instance whith an opposite containment relationship to the ProductType it was created from.

### File structure

```sh
.
├── README.md
├── Categories.xmi
└── representations.aird

```
